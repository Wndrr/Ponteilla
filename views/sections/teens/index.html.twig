{% extends '/sections/_shared/global.layout.html.twig' %}

{% block custom_css %}
	<link rel="stylesheet" type="text/css" href="/assets/css/sections.css">
{% endblock %}

{% block navbar %}
    {% embed '/sections/_shared/navbar.partial.html.twig' %}
        {% block navbar_logo %}
        	<!-- Todo: Change the logo / remove if not needed -->
			<img id="navbar_logo" src="/assets/img/teens/logo.jpg" alt="Point ados">
        {% endblock %}
    {% endembed %}
{% endblock %}

{% block bodyId %}teens{% endblock %}

{% block content %}
	<h1>
		Point ados / Animations
	</h1>
	<div class="row">
		<div id="picturesContainer" class="col-md-8 col-md-offset-2">
			<div id="carousel" class="carousel slide" data-ride="carousel">
				<!-- Indicators -->
				<ol class="carousel-indicators">
					<li data-target="#carousel" data-slide-to="0" class="active"></li>
					<li data-target="#carousel" data-slide-to="1"></li>
					<li data-target="#carousel" data-slide-to="2"></li>
					<li data-target="#carousel" data-slide-to="3"></li>
				</ol>

				<!-- Wrapper for slides -->
				<div class="carousel-inner" role="listbox">
					<div class="item active">
					  <img src="/assets/img/teens/carousel/1.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/2.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/3.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/4.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/5.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/6.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/7.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/8.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/9.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/10.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/11.jpg" alt="image introvable">
					</div>

					<div class="item">
					  <img src="/assets/img/teens/carousel/12.jpg" alt="image introvable">
					</div>
				</div>

				<!-- Left and right controls -->
				<a class="left carousel-control" href="#carousel" role="button" data-slide="prev">
					<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="right carousel-control" href="#carousel" role="button" data-slide="next">
					<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>
	</div>
	<div id="textBlocksContainer">
		<div class="col-md-6 col-xs-12">
			<div iclass="col-md-12">
				<div>
					<h2>
						Point ados
					</h2>
					Ouvert&nbsp;: 
					<br />
					Le Mardi de 20h30 a 22h30
					<br />
					Le Mercredi de 14h a 18h
					<br />
					Le Vendredi de 20h30 a 22h30
					<br />
					Le Samedi de 14h a 18h
					<br />
					On vous attend nombreux !
					<br />
					A très vite, Quentin et Jonathan ! 
				</div>
			</div>
		</div>
		<div class="col-md-6 col-xs-12">
			<div class="col-md-12">
				<div>
					<h2>
						Animations
					</h2>
					Les Foyers Ruraux sont des Associations d’Education Populaire.
					<br />
					Ils contribuent tout au long de l'année à l’Animation et au Développement Social, Culturel, Sportif et Économique des Territoires Ruraux.
					<br />
					L’animation est la vocation première du Foyer rural&nbsp;: développer la vie du village et du territoire rural, favoriser les échanges villes/campagnes, le partage et le "faire ensemble" des populations rurales.
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div id="downloadFile" class="col-md-6 col-md-offset-3">
			Télécharger la <a href="/assets/ressources/archery/teens/ficheInscription.teens.doc">fiche individuelle d'inscription</a>
		</div>
	</div>
	<div id="contactBlock" class="row">		
		<div class="col-md-6 col-md-offset-3">
			<div id="contactBlock" class="col-md-12">
				{% include '/sections/_shared/contactForm.partial.html.twig' %}
			</div>
		</div>
	</div>

	<script>


	var block = $('#sectionsCheckboxes');
	var emailBlock = $('#emailBlock');
	var emailInput = emailBlock.find('input');

	var contactForm = $('#contactForm');

	contactForm.on('submit', function(e) 
	{ 
		e.preventDefault();
		var isValid = false;

		var checkbox = block.find(':checkbox:checked');
		if(checkbox.length == 0)
		{
			block.addClass('has-error');
			isValid = false;
		}	

		else
		{
			$('#sectionsCheckboxes :checkbox:checked').removeClass('has-error');
			isValid = true;
		}			

		if(!isValidEmailAddress(emailInput.val()))
		{
			emailBlock.addClass('has-error');
			isValid = false;
		}	

		else
		{
			emailBlock.removeClass('has-error');
			isValid = true;
		}	


		if(isValid)
		{
			sendForm();
		}


	});

	function sendForm()
	{
		$.ajax(
		{
			type: "POST",
			url: "{{path('tableTennis_contact')}}",
			data: contactForm.serialize(),
			beforeSend: function(xhr) 
			{
			},
			success: function(data)
			{
				$('#textBlock').css('min-height', $(contactForm).css('height'));
				$(contactForm).slideUp('fast', function()
				{
					$(contactForm).html(data);
					$(contactForm).slideDown('fast')
				});
			}
		});
	}


	function isValidEmailAddress(emailAddress) 
	{
	    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
	    return pattern.test(emailAddress);
	};
	</script>
{% endblock %}